#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è APK —Ñ–∞–π–ª–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./copy_apk.sh

echo "üîÑ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ APK —Ñ–∞–π–ª–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è..."

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ debug APK
if [ -f "build/app/outputs/flutter-apk/app-debug.apk" ]; then
    # –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –¥–ª—è APK —Ñ–∞–π–ª–æ–≤ –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
    mkdir -p "apk_for_testing"
    
    # –ö–æ–ø–∏—Ä—É–µ–º APK —Å –ø–æ–Ω—è—Ç–Ω—ã–º –∏–º–µ–Ω–µ–º
    cp "build/app/outputs/flutter-apk/app-debug.apk" "apk_for_testing/BARLAU-debug-$(date +%Y%m%d-%H%M).apk"
    
    echo "‚úÖ APK —Ñ–∞–π–ª —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –ø–∞–ø–∫—É apk_for_testing/"
    echo "üì± –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ñ–∞–π–ª –Ω–∞ Android —Ç–µ–ª–µ—Ñ–æ–Ω"
    echo ""
    echo "–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:"
    ls -lh apk_for_testing/BARLAU-debug-*.apk | tail -1
    echo ""
    echo "üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ:"
    echo "1. –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ APK —Ñ–∞–π–ª –Ω–∞ Android —Ç–µ–ª–µ—Ñ–æ–Ω"
    echo "2. –í–∫–ª—é—á–∏—Ç–µ '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏' –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏"
    echo "3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ APK —Ñ–∞–π–ª –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏"
    echo "4. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –∫–∞–∫ 'BARLAU' –≤ —Å–ø–∏—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
    
else
    echo "‚ùå APK —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω. –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: flutter build apk --debug"
fi 